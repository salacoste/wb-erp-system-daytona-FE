# Story 6.3: Stockout Table & Detail Panel

## Status
âœ… Ready for QA

---

## Story

**As a** seller,
**I want** to see a detailed table of products with stockout risk and expandable details,
**so that** I can make informed reorder decisions.

---

## Acceptance Criteria

### Table Requirements

1. **Table displays all SKUs** with stock data
2. **Columns include**:
   - Status icon (â¬›ğŸ”´ğŸŸ ğŸŸ¡ğŸŸ¢) â€” 5 ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²: out_of_stock, critical, warning, low, healthy
   - SKU / Article
   - Product name
   - Stock (units)
   - In Transit (units)
   - Velocity (units/day)
   - Days until stockout
   - Recommended reorder qty
   - Reorder value (â‚½)
   - Action button
3. **Sortable**: Click column headers to sort
4. **Filterable**: Filter by status (from cards or dropdown)
5. **Searchable**: Search by SKU or product name
6. **Row colors**: Background color based on status
7. **Pagination**: Handle 100+ SKUs with pagination

### Detail Panel

8. **Expandable rows**: Click row to expand detail panel
9. **Detail panel shows**:
   - Current situation summary
   - 7-day forecast (daily breakdown)
   - Reorder calculation breakdown
   - Cost/profit analysis
   - Supplier info (if available)
10. **Velocity trend chart**: Mini sparkline in detail panel

### Actions

11. **Action buttons**: "Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ" / "ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ" based on status
12. **Export**: CSV export of table data

---

## Tasks / Subtasks

### Main Table

- [ ] Create table component (AC: 1, 2, 3)
  - [ ] Create `src/components/custom/SupplyPlanningTable.tsx`
  - [ ] Define all columns with proper widths
  - [ ] Implement sorting functionality
  - [ ] Status icon and row coloring

- [ ] Implement filtering (AC: 4, 5)
  - [ ] Accept `statusFilter` from parent (card clicks)
  - [ ] Search input for SKU/name
  - [ ] Clear filters button

- [ ] Implement pagination (AC: 7)
  - [ ] Client-side pagination (data from API)
  - [ ] Page size selector (25, 50, 100)
  - [ ] "ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¾ X Ğ¸Ğ· Y Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²"

### Detail Panel

- [ ] Create expandable row (AC: 8, 9)
  - [ ] Create `src/components/custom/SupplyPlanningDetail.tsx`
  - [ ] Current situation section
  - [ ] 7-day forecast section
  - [ ] Reorder reasoning section
  - [ ] Supplier info section

- [ ] Velocity trend chart (AC: 10)
  - [ ] Mini sparkline (last 7-14 days)
  - [ ] Or simple text: "â†‘ Ğ Ğ°ÑÑ‚Ñ‘Ñ‚" / "â†’ Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾" / "â†“ ĞŸĞ°Ğ´Ğ°ĞµÑ‚"

### Actions

- [ ] Action buttons (AC: 11)
  - [ ] "Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ" for critical/warning (opens modal or marks as ordered)
  - [ ] "ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ" for monitor (adds to cart - future)
  - [ ] No action for safe

- [ ] Export CSV (AC: 12)
  - [ ] Export visible/filtered data
  - [ ] Include all columns

---

## Dev Notes

### Table Columns Specification

| # | Column | Field | Width | Sortable | Format |
|---|--------|-------|-------|----------|--------|
| 1 | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | `stockout_status` | 50px | Yes | Icon |
| 2 | ĞÑ€Ñ‚Ğ¸ĞºÑƒĞ» | `sku_id` | 100px | Yes | Text |
| 3 | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ | `product_name` | 200px | Yes | Text (truncate) |
| 4 | ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº | `stock_qty` | 80px | Yes | Number |
| 5 | Ğ’ Ğ¿ÑƒÑ‚Ğ¸ | `in_transit_qty` | 80px | Yes | Number |
| 6 | Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ | `velocity_units_per_day` | 100px | Yes | X.X ÑˆÑ‚/Ğ´ĞµĞ½ÑŒ |
| 7 | Ğ”Ğ½ĞµĞ¹ Ğ´Ğ¾ ÑÑ‚Ğ¾ĞºĞ°ÑƒÑ‚Ğ° | `days_until_stockout` | 120px | Yes | X Ğ´Ğ½ĞµĞ¹ / Ğ”Ğ°Ñ‚Ğ° |
| 8 | Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ | `recommended_reorder_qty` | 100px | Yes | X ÑˆÑ‚ |
| 9 | Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ·Ğ°ĞºĞ°Ğ·Ğ° | `recommended_reorder_value` | 120px | Yes | â‚½ |
| 10 | Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ | - | 100px | No | Button |

### Row Colors by Status (5 ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²)

> **âœ… ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞ 2025-12-12 Ğ¿Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°Ğ¼ UX-Ñ€ĞµĞ²ÑŒÑ (ÑĞ¼. 6.UX-ANSWERS-SUPPLY-PLANNING.md)**

```typescript
const rowBgColors: Record<StockoutStatus, string> = {
  out_of_stock: 'bg-gray-100',  // Ğ¢Ñ‘Ğ¼Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½ Ğ´Ğ»Ñ "Ğ¼Ñ‘Ñ€Ñ‚Ğ²Ñ‹Ñ…" Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
  critical: 'bg-red-50',        // #FEF2F2
  warning: 'bg-orange-50',      // #FFF7ED
  low: 'bg-yellow-50',          // #FEFCE8 (Ğ±Ñ‹Ğ²ÑˆĞ¸Ğ¹ monitor)
  healthy: 'bg-white',          // (Ğ±Ñ‹Ğ²ÑˆĞ¸Ğ¹ safe)
};

// Border-left Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ°ĞºÑ†ĞµĞ½Ñ‚Ğ°
const rowBorderColors: Record<StockoutStatus, string> = {
  out_of_stock: 'border-l-4 border-gray-800',
  critical: 'border-l-4 border-red-500',
  warning: 'border-l-4 border-orange-500',
  low: 'border-l-4 border-yellow-500',
  healthy: '', // Ğ±ĞµĞ· Ğ±Ğ¾Ñ€Ğ´ĞµÑ€Ğ°
};
```

### Detail Panel Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SKU 12345: Widget Pro - Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚ ğŸ“Š Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ñ                        ğŸ“ˆ Ğ¢Ñ€ĞµĞ½Ğ´ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶     â”‚
â”‚ â€¢ ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº: 15 ÑˆÑ‚                           â–â–‚â–ƒâ–„â–…â–†â–‡ 8.2 ÑˆÑ‚/Ğ´ĞµĞ½ÑŒ         â”‚
â”‚ â€¢ Ğ’ Ğ¿ÑƒÑ‚Ğ¸: 0 ÑˆÑ‚                             (ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾)                  â”‚
â”‚ â€¢ Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ: 8.2 ÑˆÑ‚/Ğ´ĞµĞ½ÑŒ                                                 â”‚
â”‚ â€¢ Ğ¡Ñ‚Ğ¾ĞºĞ°ÑƒÑ‚ Ñ‡ĞµÑ€ĞµĞ·: 2 Ğ´Ğ½Ñ (8 Ğ´ĞµĞº) ğŸ”´                                       â”‚
â”‚                                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“… ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ· Ğ½Ğ° 7 Ğ´Ğ½ĞµĞ¹                                                    â”‚
â”‚ Ğ”ĞµĞ½ÑŒ 1 (6 Ğ´ĞµĞº): 15 â†’ -8 â†’ 7 ÑˆÑ‚                                         â”‚
â”‚ Ğ”ĞµĞ½ÑŒ 2 (7 Ğ´ĞµĞº): 7 â†’ -8 â†’ 0 ÑˆÑ‚ âš ï¸ Ğ¡Ğ¢ĞĞšĞĞ£Ğ¢                               â”‚
â”‚ Ğ”ĞµĞ½ÑŒ 3 (8 Ğ´ĞµĞº): 0 â†’ Ğ¿Ğ¾Ñ‚ĞµÑ€Ñ 8,000â‚½                                      â”‚
â”‚ ...                                                                      â”‚
â”‚ Ğ˜Ñ‚Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ (7 Ğ´Ğ½ĞµĞ¹): 40,000â‚½                                         â”‚
â”‚                                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ›’ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ñƒ                                               â”‚
â”‚ â€¢ Ğ“Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ: 30 Ğ´Ğ½ĞµĞ¹                                        â”‚
â”‚ â€¢ ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ ÑĞ¿Ñ€Ğ¾Ñ: 246 ÑˆÑ‚                                               â”‚
â”‚ â€¢ Ğ‘ÑƒÑ„ĞµÑ€ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸ (25%): 308 ÑˆÑ‚                                     â”‚
â”‚ â€¢ Ğ£Ğ¶Ğµ ĞµÑÑ‚ÑŒ: 15 ÑˆÑ‚                                                       â”‚
â”‚ â€¢ **Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµĞ¼ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ: 293 ÑˆÑ‚**                                      â”‚
â”‚                                                                          â”‚
â”‚ ğŸ’° ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚                                                        â”‚
â”‚ â€¢ Ğ¡ĞµĞ±ĞµÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ: 450â‚½/ÑˆÑ‚ Ã— 293 = 131,850â‚½                             â”‚
â”‚ â€¢ ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ²Ñ‹Ñ€ÑƒÑ‡ĞºĞ°: 293,000â‚½                                          â”‚
â”‚ â€¢ ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ: ~97,000â‚½ (33% Ğ¼Ğ°Ñ€Ğ¶Ğ°)                              â”‚
â”‚                                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“¦ ĞŸĞ¾ÑÑ‚Ğ°Ğ²Ñ‰Ğ¸Ğº                                                            â”‚
â”‚ â€¢ ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ: ĞœĞµĞ³Ğ°Ğ¡Ğ½Ğ°Ğ± ĞĞĞ                                                â”‚
â”‚ â€¢ ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·: 15 Ğ½Ğ¾Ñ (200 ÑˆÑ‚)                                     â”‚
â”‚ â€¢ Ğ¡Ñ€Ğ¾Ğº Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸: ~7 Ğ´Ğ½ĞµĞ¹                                                â”‚
â”‚ â€¢ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚: +7 999 123-45-67                                             â”‚
â”‚                                                                          â”‚
â”‚ [ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ¾] [ĞÑ‚Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·] [Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### File Structure

```
src/components/custom/
â”œâ”€â”€ SupplyPlanningTable.tsx       â† Main table
â”œâ”€â”€ SupplyPlanningDetail.tsx      â† Expandable detail panel
â”œâ”€â”€ SupplyPlanningRow.tsx         â† Single row component
â””â”€â”€ SupplyForecastChart.tsx       â† Mini velocity chart (optional)
```

---

## UX/UI Expert Sections

> **âœ… UX SPECIFICATIONS PROVIDED BY SALLY (UX Expert) - 2025-12-09**

### ğŸ“‹ Table Design

#### Table Properties
| Property | Value |
|----------|-------|
| Row Height | `56px` (taller due to important data) |
| Cell Padding | `12px 16px` |
| Header Background | `bg-gray-100` |
| Header Font | `text-xs font-semibold text-gray-600 uppercase tracking-wide` |
| Body Font | `text-sm text-gray-900` |
| Row Hover | `bg-gray-50` |
| Border | `border-b border-gray-200` |
| Sticky Header | Yes, `sticky top-0 z-10` |

#### Column Alignment
| Column | Alignment | Width |
|--------|-----------|-------|
| Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ (icon) | Center | `60px` |
| ĞÑ€Ñ‚Ğ¸ĞºÑƒĞ» | Left | `100px` |
| ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ | Left | `200px` (truncate) |
| ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº | Right | `80px` |
| Ğ’ Ğ¿ÑƒÑ‚Ğ¸ | Right | `80px` |
| Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ | Right | `100px` |
| Ğ”Ğ½ĞµĞ¹ Ğ´Ğ¾ ÑÑ‚Ğ¾ĞºĞ°ÑƒÑ‚Ğ° | Right | `120px` |
| Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ | Right | `100px` |
| Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ·Ğ°ĞºĞ°Ğ·Ğ° | Right | `120px` |
| Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ | Center | `140px` |

#### Number Formatting
| Type | Format | Example |
|------|--------|---------|
| Quantity | Integer, space separator | `1 234 ÑˆÑ‚` |
| Currency | Space separator, symbol after | `125 000 â‚½` |
| Velocity | 1 decimal | `8.2 ÑˆÑ‚/Ğ´ĞµĞ½ÑŒ` |
| Days | Integer + "Ğ´Ğ½ĞµĞ¹" or "ğŸ”´ 2 Ğ´Ğ½Ñ!" | `12 Ğ´Ğ½ĞµĞ¹` |

#### Row Background Colors (5 ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²)

> **âœ… ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞ 2025-12-12**

| Status | Russian | Background | Border Left |
|--------|---------|------------|-------------|
| `out_of_stock` | ĞĞµÑ‚ Ğ² Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğ¸ | `bg-gray-100` | `border-l-4 border-gray-800` |
| `critical` | ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ | `bg-red-50` | `border-l-4 border-red-500` |
| `warning` | Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ | `bg-orange-50` | `border-l-4 border-orange-500` |
| `low` | ĞĞ¸Ğ·ĞºĞ¸Ğ¹ Ğ·Ğ°Ğ¿Ğ°Ñ | `bg-yellow-50` | `border-l-4 border-yellow-500` |
| `healthy` | Ğ’ Ğ½Ğ¾Ñ€Ğ¼Ğµ | `bg-white` | none |

#### Name Truncation
- Max: `200px` width
- Overflow: `text-ellipsis truncate`
- Tooltip: Full name on hover

---

### ğŸ“‚ Expandable Row Design

#### Expand/Collapse Behavior

> **âœ… ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞ 2025-12-12: Multiple open (UX Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Q9)**

| Property | Value |
|----------|-------|
| Trigger | **Chevron icon only** (not entire row - prevents accidental expansion) |
| Animation | Slide down, 200ms ease-out |
| Multiple expanded | **Yes** â€” Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑ‚ ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ SKU Ğ¾Ğ´Ğ½Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ |
| Collapse on outside click | No (only chevron click) |

**ĞĞ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**: Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸ Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ñ€Ğ°Ğ·Ğ´Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¿Ñ€Ğ¸ ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ².

#### Chevron Icon
- Closed: `ChevronRight` (Lucide)
- Open: `ChevronDown` (Lucide)
- Color: `text-gray-400`, hover: `text-gray-600`
- Transition: Rotate 90Â° on expand

#### Detail Panel Layout
**Approved Design**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ SKU 12345: Widget Pro - ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ¾! Ğ¡Ñ‚Ğ¾ĞºĞ°ÑƒÑ‚ Ñ‡ĞµÑ€ĞµĞ· 2 Ğ´Ğ½Ñ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Š Ğ¢Ğ•ĞšĞ£Ğ©ĞĞ¯ Ğ¡Ğ˜Ğ¢Ğ£ĞĞ¦Ğ˜Ğ¯         â”‚  â”‚ ğŸ“ˆ Ğ¢Ğ Ğ•ĞĞ” Ğ¡ĞšĞĞ ĞĞ¡Ğ¢Ğ˜ (14 Ğ´Ğ½ĞµĞ¹)             â”‚ â”‚
â”‚ â”‚                              â”‚  â”‚                                         â”‚ â”‚
â”‚ â”‚ â€¢ ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº: 15 ÑˆÑ‚             â”‚  â”‚    â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆ 8.2 ÑˆÑ‚/Ğ´ĞµĞ½ÑŒ               â”‚ â”‚
â”‚ â”‚ â€¢ Ğ’ Ğ¿ÑƒÑ‚Ğ¸: 0 ÑˆÑ‚               â”‚  â”‚    Ğ¢Ñ€ĞµĞ½Ğ´: â†‘ Ğ Ğ°ÑÑ‚Ñ‘Ñ‚ (+15%)              â”‚ â”‚
â”‚ â”‚ â€¢ Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ: 8.2 ÑˆÑ‚/Ğ´ĞµĞ½ÑŒ      â”‚  â”‚                                         â”‚ â”‚
â”‚ â”‚ â€¢ Ğ¡Ñ‚Ğ¾ĞºĞ°ÑƒÑ‚: 8 Ğ´ĞµĞº (2 Ğ´Ğ½Ñ) ğŸ”´  â”‚  â”‚                                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“… ĞŸĞ ĞĞ“ĞĞĞ— ĞĞ 7 Ğ”ĞĞ•Ğ™                                                      â”‚â”‚
â”‚ â”‚                                                                            â”‚â”‚
â”‚ â”‚ Ğ”ĞµĞ½ÑŒ 1 (6 Ğ´ĞµĞº): 15 â†’ 7 ÑˆÑ‚    Ğ”ĞµĞ½ÑŒ 5: 0 ÑˆÑ‚ âš ï¸ Ğ¡Ğ¢ĞĞšĞĞ£Ğ¢                      â”‚â”‚
â”‚ â”‚ Ğ”ĞµĞ½ÑŒ 2 (7 Ğ´ĞµĞº): 7 â†’ 0 ÑˆÑ‚     Ğ”ĞµĞ½ÑŒ 6: Ğ¿Ğ¾Ñ‚ĞµÑ€Ñ 8,000â‚½                        â”‚â”‚
â”‚ â”‚ Ğ”ĞµĞ½ÑŒ 3 (8 Ğ´ĞµĞº): 0 ÑˆÑ‚         Ğ”ĞµĞ½ÑŒ 7: Ğ¿Ğ¾Ñ‚ĞµÑ€Ñ 8,000â‚½                        â”‚â”‚
â”‚ â”‚ Ğ”ĞµĞ½ÑŒ 4 (9 Ğ´ĞµĞº): Ğ¿Ğ¾Ñ‚ĞµÑ€Ñ       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚â”‚
â”‚ â”‚                              Ğ˜Ñ‚Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ‚ĞµÑ€Ğ¸ (7 Ğ´Ğ½ĞµĞ¹): 40,000â‚½               â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ›’ Ğ Ğ•ĞšĞĞœĞ•ĞĞ”ĞĞ¦Ğ˜Ğ¯ ĞŸĞ Ğ—ĞĞšĞĞ—Ğ£                                                  â”‚â”‚
â”‚ â”‚                                                                            â”‚â”‚
â”‚ â”‚ Ğ“Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚: 30 Ğ´Ğ½ĞµĞ¹  â”‚  Ğ¡Ğ¿Ñ€Ğ¾Ñ: 246 ÑˆÑ‚  â”‚  Ğ‘ÑƒÑ„ĞµÑ€ 25%: 308 ÑˆÑ‚               â”‚â”‚
â”‚ â”‚ Ğ£Ğ¶Ğµ ĞµÑÑ‚ÑŒ: 15 ÑˆÑ‚    â”‚  **Ğ—ĞĞšĞĞ—ĞĞ¢Ğ¬: 293 ÑˆÑ‚ = 131,850â‚½**                    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ“¦ ĞŸĞĞ¡Ğ¢ĞĞ’Ğ©Ğ˜Ğš (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)  â”‚  â”‚ ğŸ’° ĞĞĞĞ›Ğ˜Ğ— Ğ—ĞĞ¢Ğ ĞĞ¢                          â”‚â”‚
â”‚ â”‚ ĞœĞµĞ³Ğ°Ğ¡Ğ½Ğ°Ğ± ĞĞĞ              â”‚  â”‚ COGS: 450â‚½ Ã— 293 = 131,850â‚½              â”‚â”‚
â”‚ â”‚ Ğ¡Ñ€Ğ¾Ğº Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸: ~7 Ğ´Ğ½ĞµĞ¹    â”‚  â”‚ ĞĞ¶Ğ¸Ğ´. Ğ²Ñ‹Ñ€ÑƒÑ‡ĞºĞ°: 293,000â‚½                  â”‚â”‚
â”‚ â”‚ ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚: +7 999 123-45-67 â”‚  â”‚ ĞĞ¶Ğ¸Ğ´. Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ: 97,000â‚½ (33%)             â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                               â”‚
â”‚ [ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ¾]  [ĞÑ‚Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·]  [Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²]  [Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| Property | Value |
|----------|-------|
| Panel Width | Full table width |
| Background | `bg-gray-50` |
| Border | `border border-gray-200` |
| Border Radius | `0 0 8px 8px` (bottom corners only) |
| Padding | `24px` |
| Section Gap | `24px` |

#### Typography Hierarchy
| Element | Style |
|---------|-------|
| Panel Title | `text-lg font-semibold text-gray-900` |
| Section Header | `text-sm font-semibold text-gray-700` + icon |
| Body Text | `text-sm text-gray-600` |
| Key Values | `text-sm font-bold text-gray-900` |
| Warning Text | `text-sm font-bold text-red-600` |

---

### ğŸ”˜ Action Buttons

#### Button Variants by Status (5 ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²)

> **âœ… ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞ 2025-12-12**

| Status | Variant | Label | Icon |
|--------|---------|-------|------|
| `out_of_stock` | `destructive` (black bg) | "Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾" | `PackageX` |
| `critical` | `destructive` (red bg) | "Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾" | `AlertTriangle` |
| `warning` | `default` (orange bg) | "Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ" | `ShoppingCart` |
| `low` | `outline` | "ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ" | `Calendar` |
| `healthy` | `ghost` (disabled look) | "â€”" | none |

#### Button Styles
| Property | Value |
|----------|-------|
| Size | `sm` (small) |
| Height | `32px` |
| Padding | `8px 12px` |
| Font | `text-xs font-medium` |
| Border Radius | `6px` |

#### Click Behavior
| Status | Action |
|--------|--------|
| `out_of_stock` | Opens confirmation dialog: "âš ï¸ Ğ¢Ğ¾Ğ²Ğ°Ñ€ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚! Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ 293 ÑˆÑ‚ Ğ·Ğ° 131,850â‚½?" |
| `critical` | Opens confirmation dialog: "Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ 293 ÑˆÑ‚ Ğ·Ğ° 131,850â‚½?" |
| `warning` | Opens confirmation dialog |
| `low` | Shows toast "Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ Ğ² Ğ¿Ğ»Ğ°Ğ½" (Shopping cart = Future v2) |
| `healthy` | No action |

---

### ğŸ­ Warehouse Distribution (UX Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Q4)

> **âœ… Ğ”ĞĞ‘ĞĞ’Ğ›Ğ•ĞĞ 2025-12-12**

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**: Tooltip + Detail Panel

| ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ | Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |
|----------|------------|
| **Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°** | ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ÑĞºĞ»Ğ°Ğ´ + badge `+N` Ğ´Ğ»Ñ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… |
| **Tooltip** | ĞŸÑ€Ğ¸ hover Ğ½Ğ° `+N` â€” ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ² Ñ Ğ¾ÑÑ‚Ğ°Ñ‚ĞºĞ°Ğ¼Ğ¸ |
| **Detail Panel** | ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°: ÑĞºĞ»Ğ°Ğ´ â†’ Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ğº â†’ Ğ´Ğ½ĞµĞ¹ Ğ·Ğ°Ğ¿Ğ°ÑĞ° |

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğµ**:
```
| ĞÑ€Ñ‚Ğ¸ĞºÑƒĞ» | ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº | Ğ¡ĞºĞ»Ğ°Ğ´Ñ‹           |
|---------|---------|------------------|
| 12345   | 150 ÑˆÑ‚  | ĞšĞ¾Ğ»ĞµĞ´Ğ¸Ğ½Ğ¾ +2      | â† hover Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚: ĞŸĞ¾Ğ´Ğ¾Ğ»ÑŒÑĞº (50), ĞšĞ°Ğ·Ğ°Ğ½ÑŒ (20)
```

**Tooltip ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ**:
```
ĞšĞ¾Ğ»ĞµĞ´Ğ¸Ğ½Ğ¾:    80 ÑˆÑ‚ (12 Ğ´Ğ½)
ĞŸĞ¾Ğ´Ğ¾Ğ»ÑŒÑĞº:    50 ÑˆÑ‚ (8 Ğ´Ğ½)
ĞšĞ°Ğ·Ğ°Ğ½ÑŒ:      20 ÑˆÑ‚ (3 Ğ´Ğ½)
```

---

### ğŸ’° COGS Missing Indicator (UX Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Q5)

> **âœ… Ğ”ĞĞ‘ĞĞ’Ğ›Ğ•ĞĞ 2025-12-12**

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°**: Ğ”Ğ»Ñ SKU Ğ±ĞµĞ· ÑĞµĞ±ĞµÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ½ĞµĞ»ÑŒĞ·Ñ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¼Ğ°Ñ€Ğ¶Ñƒ Ğ¸ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ.

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ**: Em-dash + Tooltip + CTA

| Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚ | Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |
|---------|--------------|
| **ĞœĞ°Ñ€Ğ¶Ğ°** | `â€”` ÑĞµÑ€Ñ‹Ğ¼ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ¼ (`text-gray-400`) |
| **Tooltip** | "Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ ÑĞµĞ±ĞµÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ´Ğ»Ñ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ° Ğ¼Ğ°Ñ€Ğ¶Ğ¸" |
| **Ğ˜ĞºĞ¾Ğ½ĞºĞ°** | `CircleHelp` (h-3 w-3) Ñ€ÑĞ´Ğ¾Ğ¼ Ñ `â€”` |
| **CTA** | Link "Ğ£ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ COGS" Ğ² detail panel |

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğµ**:
```typescript
{hasCogs ? (
  <span className="text-green-600">{formatPercent(margin)}</span>
) : (
  <span className="text-gray-400 flex items-center gap-1">
    â€”
    <Tooltip content="Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ ÑĞµĞ±ĞµÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ´Ğ»Ñ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ° Ğ¼Ğ°Ñ€Ğ¶Ğ¸">
      <CircleHelp className="h-3 w-3" />
    </Tooltip>
  </span>
)}
```

---

### ğŸ“ˆ Velocity Trend Icons (UX Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Q6)

> **âœ… ĞŸĞĞ”Ğ¢Ğ’Ğ•Ğ Ğ–Ğ”Ğ•ĞĞ 2025-12-12**

| Trend | Ğ˜ĞºĞ¾Ğ½ĞºĞ° | Ğ¦Ğ²ĞµÑ‚ | Lucide Component |
|-------|--------|------|------------------|
| `growing` | â†—ï¸ | `text-green-600` | `TrendingUp` |
| `stable` | â¡ï¸ | `text-gray-500` | `Minus` |
| `declining` | â†˜ï¸ | `text-red-600` | `TrendingDown` |

**ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚**: Ğ”Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ â€” growing = Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾ (Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹), declining = Ğ¿Ğ»Ğ¾Ñ…Ğ¾ (ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹)

```typescript
const velocityTrendConfig = {
  growing: { icon: TrendingUp, color: 'text-green-600', label: 'Ğ Ğ°ÑÑ‚Ñ‘Ñ‚' },
  stable: { icon: Minus, color: 'text-gray-500', label: 'Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾' },
  declining: { icon: TrendingDown, color: 'text-red-600', label: 'ĞŸĞ°Ğ´Ğ°ĞµÑ‚' },
};
```

---

### ğŸ“± Responsive Table

#### Column Visibility
| Column | Desktop | Tablet | Mobile |
|--------|---------|--------|--------|
| Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | âœ… | âœ… | âœ… |
| ĞÑ€Ñ‚Ğ¸ĞºÑƒĞ» | âœ… | âœ… | âœ… |
| ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ | âœ… | âœ… (shorter) | Hidden |
| ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº | âœ… | âœ… | âœ… |
| Ğ’ Ğ¿ÑƒÑ‚Ğ¸ | âœ… | Hidden | Hidden |
| Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ | âœ… | Hidden | Hidden |
| Ğ”Ğ½ĞµĞ¹ | âœ… | âœ… | âœ… |
| Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ | âœ… | Hidden | Hidden |
| Ğ¡ÑƒĞ¼Ğ¼Ğ° | âœ… | Hidden | Hidden |
| Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ | âœ… | âœ… | âœ… (icon only) |

#### Mobile Behavior
- **Table**: Horizontal scroll with sticky first 2 columns (Status, SKU)
- **Alternative**: Card-based view on very small screens
- **Detail panel**: Full screen modal on mobile
- **Touch targets**: Minimum 44px height

#### Mobile Card View (alternative)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ SKU 12345                     [â–¶]   â”‚
â”‚ Widget Pro                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº: 15 ÑˆÑ‚    â”‚ Ğ”Ğ½ĞµĞ¹: 2 ğŸ”´        â”‚
â”‚ [Ğ—Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Definition of Done

- [ ] Table displays all SKUs with correct data
- [ ] All columns visible and sortable
- [ ] Status filter from cards works
- [ ] Search by SKU/name works
- [ ] Pagination works
- [ ] Row colors by status
- [ ] Expandable detail panel works
- [ ] Detail panel shows all sections
- [ ] Action buttons functional
- [ ] CSV export works
- [ ] **UX specifications approved and implemented**
- [ ] Responsive on all breakpoints
- [ ] Accessibility audit passed

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-09 | 1.0 | Initial story creation | Sarah (PO) |
| 2025-12-09 | 1.1 | UX specifications (4 statuses) | Sally (UX Expert) |
| 2025-12-12 | 2.0 | **UX Update**: 5 ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ² (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ `out_of_stock`), Ğ¿ĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ `monitor`â†’`low`, `safe`â†’`healthy`, Multiple open accordion (Q9), Warehouse tooltip (Q4), COGS missing indicator (Q5), Velocity trend icons (Q6) | Sally (UX Expert) |

---

## Dev Agent Record

_(To be populated by dev agent)_

---

## QA Results

### Review Date: 2025-12-13

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment

**Overall**: Complete table with expandable rows, sorting, filtering, velocity trend.

### Requirements Traceability

| AC | Status | Evidence |
|----|--------|----------|
| 1-7 (Table) | âœ… PASS | All columns, sorting, pagination |
| 8-10 (Detail Panel) | âœ… PASS | Expandable rows with forecast |
| 11-12 (Actions) | âš ï¸ PARTIAL | Buttons present, export TBD |

### Files Verified

- `SupplyPlanningTable.tsx` - Main table
- `SupplyPlanningRow.tsx` - Row component
- `SupplyPlanningDetail.tsx` - Expandable detail

### Gate Status

Gate: **PASS** â†’ `docs/qa/gates/6.3-supply-planning-stockout-table.yml`
