# –ü—Ä–æ–±–ª–µ–º–∞: Revenue (–í–∞–π–ª–¥–±–µ—Ä—Ä–∏–∑ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –¢–æ–≤–∞—Ä) –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 0 –≤ —Ç—Ä–µ–Ω–¥–∞—Ö

**–î–∞—Ç–∞:** 2025-11-22  
**Story:** 3.4 (Trend Graphs for Key Metrics)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–°—Ç–∞—Ç—É—Å:** üîç –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

---

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –°–∏–º–ø—Ç–æ–º—ã

–ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ —Ç—Ä–µ–Ω–¥–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–µ "–í–∞–π–ª–¥–±–µ—Ä—Ä–∏–∑ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –¢–æ–≤–∞—Ä" (Revenue) –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **0** –¥–ª—è –≤—Å–µ—Ö –Ω–µ–¥–µ–ª—å, —Ö–æ—Ç—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

**–ö–∞–±–∏–Ω–µ—Ç:** `f75836f7-c0bc-4b2c-823c-a1f3508cce8e` (–∞–∫—Ç–∏–≤–Ω—ã–π)

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–∞:**
```sql
SELECT week, sale_gross_total, to_pay_goods_total 
FROM weekly_payout_total 
WHERE cabinet_id = 'f75836f7-c0bc-4b2c-823c-a1f3508cce8e'
ORDER BY week DESC LIMIT 10;
```

| –ù–µ–¥–µ–ª—è | sale_gross_total | to_pay_goods_total |
|--------|------------------|-------------------|
| 2025-W46 | **0.00** | 195470.62 |
| 2025-W45 | **0.00** | 194730.40 |
| 2025-W44 | **0.00** | 254857.18 |
| 2025-W43 | **0.00** | 226205.27 |
| 2025-W42 | **0.00** | 283230.24 |
| 2025-W41 | **0.00** | 281572.02 |
| 2025-W40 | **0.00** | 384079.04 |
| 2025-W39 | **0.00** | 340100.47 |

**–í—ã–≤–æ–¥:** –í –ë–î –¥–ª—è —ç—Ç–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `sale_gross_total = 0.00`.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–≥–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤

**–ö–∞–±–∏–Ω–µ—Ç:** `63e9ebc3-0203-4819-82ed-390f19f92e14`

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```sql
SELECT week, sale_gross_total, to_pay_goods_total 
FROM weekly_payout_total 
WHERE cabinet_id = '63e9ebc3-0203-4819-82ed-390f19f92e14' 
AND sale_gross_total > 0;
```

| –ù–µ–¥–µ–ª—è | sale_gross_total | to_pay_goods_total |
|--------|------------------|-------------------|
| 2025-W36 | **311381.04** | 283210.63 |
| 2025-W34 | **383993.26** | 335931.08 |

**–í—ã–≤–æ–¥:** –£ –¥—Ä—É–≥–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤ –µ—Å—Ç—å –Ω–µ–Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è `sale_gross_total`.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ frontend

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ `useTrends.ts`

```typescript
// –°—Ç—Ä–æ–∫–∞ 60-61: –í—ã–±–æ—Ä summary
const summary = summaryResponse.summary_total || summaryResponse.summary_rus

// –°—Ç—Ä–æ–∫–∞ 68: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ revenue
const revenue = summary.sale_gross_total ?? summary.sale_gross ?? 0
```

**–õ–æ–≥–∏–∫–∞:**
1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `summary_total` (–∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) –∏–ª–∏ fallback –Ω–∞ `summary_rus`
2. –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è `sale_gross_total` –∏–ª–∏ fallback –Ω–∞ `sale_gross`
3. –ï—Å–ª–∏ –æ–±–∞ `undefined`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `0`

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ü—Ä–æ–±–ª–µ–º–∞ 1: –î–∞–Ω–Ω—ã–µ –≤ –ë–î –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ 0**
   - –ï—Å–ª–∏ –≤ –ë–î `sale_gross_total = 0.00`, —Ç–æ API –≤–µ—Ä–Ω–µ—Ç `0.00`
   - Frontend –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç `0.00`
   - **–ù–æ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

2. **–ü—Ä–æ–±–ª–µ–º–∞ 2: Backend –Ω–µ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
   - –í–æ–∑–º–æ–∂–Ω–æ, backend –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç `sale_gross_total` –ø—Ä–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ—Ç–¥–∞–µ—Ç API

3. **–ü—Ä–æ–±–ª–µ–º–∞ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π summary**
   - –í–æ–∑–º–æ–∂–Ω–æ, –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ `summary_rus` –∏–ª–∏ `summary_eaeu`, –Ω–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `summary_total`
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç—Ä–∏ summary

4. **–ü—Ä–æ–±–ª–µ–º–∞ 4: –ü–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É**
   - –í–æ–∑–º–æ–∂–Ω–æ, –≤ API –æ—Ç–≤–µ—Ç–µ –ø–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ `sale_gross_total`, –∞ –∫–∞–∫-—Ç–æ –∏–Ω–∞—á–µ
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞

---

## üìã –ü–ª–∞–Ω —Ä–µ—à–µ–Ω–∏—è

### –®–∞–≥ 1: –î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (‚úÖ –í–´–ü–û–õ–ù–ï–ù–û)

**–§–∞–π–ª:** `src/hooks/useTrends.ts`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `summaryResponse` –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–µ–¥–µ–ª–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–ª—é—á–µ–π –≤ `summary` –æ–±—ä–µ–∫—Ç–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π `sale_gross_total` –∏ `sale_gross` –∏–∑ –≤—Å–µ—Ö summary (total, rus, eaeu)
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ revenue = 0, –Ω–æ –ø–æ–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç

**–ß—Ç–æ —ç—Ç–æ –¥–∞—Å—Ç:**
- –£–≤–∏–¥–∏–º –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ –æ—Ç backend
- –ü–æ–π–º–µ–º, –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ `summary_rus` –∏–ª–∏ `summary_eaeu`
- –ü–æ–π–º–µ–º, –∫–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–µ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ—Ç–¥–∞–µ—Ç backend API

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–∫—Ä—ã—Ç—å DevTools –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12)
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console
3. –ù–∞–π—Ç–∏ –ª–æ–≥–∏ `[Trends] Finance summary for week {week}:`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - –ö–∞–∫–∏–µ –∫–ª—é—á–∏ –µ—Å—Ç—å –≤ `summary_total`, `summary_rus`, `summary_eaeu`
   - –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —É `sale_gross_total`, `sale_gross` –≤ –∫–∞–∂–¥–æ–º summary
   - –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å revenue

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ `summary_rus` –∏–ª–∏ `summary_eaeu` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö
- –ï—Å–ª–∏ –ø–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã weekly_payout_total

**–î–µ–π—Å—Ç–≤–∏—è:**
```sql
\d weekly_payout_total
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ï—Å—Ç—å –ª–∏ –ø–æ–ª—è `sale_gross_rus`, `sale_gross_eaeu` (—Ä–∞–∑–¥–µ–ª—å–Ω–æ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º)
- –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å revenue
- –ö–∞–∫ backend –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç `sale_gross_total` –∏–∑ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å backend API –Ω–∞–ø—Ä—è–º—É—é

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `test-api/05-analytics-basic.http` –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ API
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –¥–ª—è –Ω–µ–¥–µ–ª–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, W40)
3. –°—Ä–∞–≤–Ω–∏—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –ë–î

**Endpoint:**
```
GET /v1/analytics/weekly/finance-summary?week=2025-W40
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ß—Ç–æ –≤ `summary_total.sale_gross_total`
- –ß—Ç–æ –≤ `summary_rus.sale_gross`
- –ß—Ç–æ –≤ `summary_eaeu.sale_gross`
- –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å revenue

### –®–∞–≥ 5: –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

#### –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å summary_rus –∏–ª–∏ summary_eaeu

**–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö summary:**
```typescript
// –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å summary_rus –∏–ª–∏ summary_eaeu
const summary = summaryResponse.summary_total || summaryResponse.summary_rus || summaryResponse.summary_eaeu

// –ò–ª–∏ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
const revenue = 
  summaryResponse.summary_total?.sale_gross_total ??
  (summaryResponse.summary_rus?.sale_gross ?? 0) + (summaryResponse.summary_eaeu?.sale_gross ?? 0) ??
  summaryResponse.summary_rus?.sale_gross ??
  summaryResponse.summary_eaeu?.sale_gross ??
  0
```

#### –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ –ø–æ–ª–µ

**–ï—Å–ª–∏ –ø–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é backend
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DTO —Ñ–∞–π–ª—ã backend
- –û–±–Ω–æ–≤–∏—Ç—å `FinanceSummary` interface

#### –†–µ—à–µ–Ω–∏–µ 3: Backend –ø—Ä–æ–±–ª–µ–º–∞

**–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ 0, –Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–Ω—É–ª–µ–≤—ã–º–∏:**
- –°–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∫ backend team –≤ `@request-backend`
- –û–ø–∏—Å–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –¥–∞–Ω–Ω—ã–º–∏
- –ü–æ–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é `sale_gross_total`

#### –†–µ—à–µ–Ω–∏–µ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–ï—Å–ª–∏ revenue –º–æ–∂–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º—É–ª—É —Ä–∞—Å—á–µ—Ç–∞ revenue
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—á–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ fallback

---

## üß™ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (—Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏)

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–∫—Ä—ã—Ç—å dashboard –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä—ã—Ç—å DevTools (F12) ‚Üí Console
3. –ù–∞–π—Ç–∏ –ª–æ–≥–∏ `[Trends] Finance summary for week {week}:`
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
- `summary_total.sale_gross_total` - –∑–Ω–∞—á–µ–Ω–∏–µ
- `summary_rus.sale_gross` - –∑–Ω–∞—á–µ–Ω–∏–µ
- `summary_eaeu.sale_gross` - –∑–Ω–∞—á–µ–Ω–∏–µ
- –í—Å–µ –∫–ª—é—á–∏ –≤ `summary` –æ–±—ä–µ–∫—Ç–µ

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –Ω–∞–ø—Ä—è–º—É—é

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å test-api/05-analytics-basic.http:**
```http
### Get Finance Summary for Week
GET {{baseUrl}}/v1/analytics/weekly/finance-summary?week=2025-W40
Authorization: Bearer {{token}}
X-Cabinet-Id: {{cabinetId}}
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ü–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞
- –ó–Ω–∞—á–µ–Ω–∏—è –≤–æ –≤—Å–µ—Ö —Ç—Ä–µ—Ö summary (total, rus, eaeu)
- –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å revenue

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î

**–ó–∞–ø—Ä–æ—Å:**
```sql
SELECT column_name, data_type 
FROM information_schema.columns 
WHERE table_name = 'weekly_payout_total' 
AND column_name LIKE '%sale%' OR column_name LIKE '%gross%'
ORDER BY column_name;
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –ï—Å—Ç—å –ª–∏ –ø–æ–ª—è `sale_gross_rus`, `sale_gross_eaeu`
- –ï—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å revenue
- –ö–∞–∫ backend –¥–æ–ª–∂–µ–Ω –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

---

## üìù –í—ã–≤–æ–¥—ã

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

1. **–í –ë–î –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞:** `sale_gross_total = 0.00` –¥–ª—è –≤—Å–µ—Ö –Ω–µ–¥–µ–ª—å
2. **–í –ë–î –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤:** `sale_gross_total` –∏–º–µ–µ—Ç –Ω–µ–Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
3. **Frontend –∫–æ–¥:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç `sale_gross_total` –∏–∑ `summary_total`
4. **–ü—Ä–æ–±–ª–µ–º–∞:** –õ–∏–±–æ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ, –ª–∏–±–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π summary/–ø–æ–ª–µ

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `useTrends.ts`
2. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ test-api/05-analytics-basic.http
4. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π
5. ‚è≥ –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö

---

## üîß –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å)

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –≤ `summary_rus` –∏–ª–∏ `summary_eaeu`, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö:

```typescript
// –í useTrends.ts, —Å—Ç—Ä–æ–∫–∞ 68
// –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
const revenue = 
  summaryResponse.summary_total?.sale_gross_total ??
  summaryResponse.summary_rus?.sale_gross ??
  summaryResponse.summary_eaeu?.sale_gross ??
  // –ò–ª–∏ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  ((summaryResponse.summary_rus?.sale_gross ?? 0) + (summaryResponse.summary_eaeu?.sale_gross ?? 0)) ||
  0
```

**–ù–æ:** –≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É `summary_total.sale_gross_total = 0`.

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

