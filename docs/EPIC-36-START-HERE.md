# ğŸš€ Epic 36: Product Card Linking - START HERE

**Ğ”Ğ°Ñ‚Ğ°**: 2025-12-28
**Backend ÑÑ‚Ğ°Ñ‚ÑƒÑ**: âœ… 100% Complete
**Frontend ÑÑ‚Ğ°Ñ‚ÑƒÑ**: âœ… 100% Complete (Story 36.5)
**ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚**: Complete

---

## ğŸ“– Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾ Ğ·Ğ° epic?

**Epic 36: Product Card Linking (ÑĞºĞ»ĞµĞ¹ĞºĞ¸)** - Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ½Ñ‹Ñ… Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº Ğ´Ğ»Ñ Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½Ñ‘Ğ½Ğ½Ñ‹Ñ… ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Ğ½Ğ° Wildberries.

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ Ñ€ĞµÑˆĞ°ĞµĞ¼

**Ğ”Ğ¾ Epic 36** (Ñ‚ĞµĞºÑƒÑ‰Ğ°Ñ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ñ):
```
ter-09:   spend=0â‚½, revenue=1,105â‚½  â†’  ROAS=â€”, status=ğŸ”µ ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… âŒ
ter-10:   spend=0â‚½, revenue=1,489â‚½  â†’  ROAS=â€”, status=ğŸ”µ ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… âŒ
ter-13-1: spend=11,337â‚½, revenue=31,464â‚½  â†’  ROAS=2.78 âœ…
```

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ**: WB Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµÑ‚ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² (ÑĞºĞ»ĞµĞ¹ĞºĞ¸), Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ° Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞµ, Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸ Ğ¸Ğ´ÑƒÑ‚ Ğ½Ğ° Ğ²ÑĞµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹. Ğ£ Ğ´Ğ¾Ñ‡ĞµÑ€Ğ½Ğ¸Ñ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² `spend=0` Ğ½Ğ¾ `revenue>0` â†’ Ğ½ĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ROAS.

**ĞŸĞ¾ÑĞ»Ğµ Epic 36**:
```
Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° #328632 (ter-09 + ter-10 + ter-13-1):
  Total spend:   11,337â‚½
  Total revenue: 34,058â‚½ (ÑÑƒĞ¼Ğ¼Ğ° Ğ²ÑĞµÑ… 3 Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²)
  ROAS: 3.0 âœ…
  Status: Ğ ĞµĞ½Ñ‚Ğ°Ğ±ĞµĞ»ÑŒĞ½Ğ¾ âœ…
```

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚**: ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ°Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹ Ğ´Ğ»Ñ Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½Ñ‘Ğ½Ğ½Ñ‹Ñ… ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº.

---

## ğŸ¯ Ğ§Ñ‚Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾ ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ (TL;DR)

1. âœ… **ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ** [`request-backend/84-epic-36-frontend-integration-guide.md`](./request-backend/84-epic-36-frontend-integration-guide.md)
2. âœ… **Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚ÑŒ** API contract: [`request-backend/83-epic-36-api-contract.md`](./request-backend/83-epic-36-api-contract.md)
3. âœ… **Ğ¡Ğ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ÑŒ** implementation plan: [`implementation-plans/epic-36-frontend-integration.md`](./implementation-plans/epic-36-frontend-integration.md)
4. âœ… **Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ** UI Ğ¿Ğ¾ mockup: [`wireframes/epic-36-ui-mockup.md`](./wireframes/epic-36-ui-mockup.md)

**Ğ’Ñ€ĞµĞ¼Ñ**: 3-4 Ñ‡Ğ°ÑĞ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ + 1-2 Ñ‡Ğ°ÑĞ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

---

## ğŸ“š Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ (Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ Ğ¿Ğ¾Ñ€ÑĞ´ĞºÑƒ)

### 1ï¸âƒ£ **ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ·Ğ´ĞµÑÑŒ** - Integration Guide
ğŸ“„ **Ğ¤Ğ°Ğ¹Ğ»**: [`request-backend/84-epic-36-frontend-integration-guide.md`](./request-backend/84-epic-36-frontend-integration-guide.md)

**Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ**:
- TL;DR Ñ‡Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ
- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ
- Quick start (3 ÑˆĞ°Ğ³Ğ°)
- Acceptance criteria
- Support & links

**Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ğµ**: 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚

---

### 2ï¸âƒ£ **Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚** - API Contract
ğŸ“„ **Ğ¤Ğ°Ğ¹Ğ»**: [`request-backend/83-epic-36-api-contract.md`](./request-backend/83-epic-36-api-contract.md)

**Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ**:
- TypeScript Ñ‚Ğ¸Ğ¿Ñ‹ (`GroupByMode`, `MergedProduct`, `AdvertisingItem`)
- API request/response Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹
- Edge cases Ğ¸ Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ
- Backward compatibility Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ğ¸

**Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ğµ**: 15 Ğ¼Ğ¸Ğ½ÑƒÑ‚

**ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ ĞºĞ¾Ğ´**:
```typescript
export type GroupByMode = 'sku' | 'imtId';

export interface AdvertisingItem {
  type?: 'merged_group' | 'individual';
  imtId?: number | null;
  mergedProducts?: MergedProduct[];
  // ... existing fields
}
```

---

### 3ï¸âƒ£ **ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ğ½** - Implementation Plan
ğŸ“„ **Ğ¤Ğ°Ğ¹Ğ»**: [`implementation-plans/epic-36-frontend-integration.md`](./implementation-plans/epic-36-frontend-integration.md)

**Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ**:
- 6 ÑˆĞ°Ğ³Ğ¾Ğ² Ñ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¼Ğ¸ code snippets
- Testing checklist (unit, integration, E2E)
- Performance considerations
- Error handling

**Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ° Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ**: 3-4 Ñ‡Ğ°ÑĞ°

**Ğ¨Ğ°Ğ³Ğ¸**:
1. Update TypeScript Types (15 min)
2. Update API Client (10 min)
3. Update React Query Hooks (5 min)
4. Create MergedProductBadge Component (20 min)
5. Update Main Analytics Page (30 min)
6. Update Filters Component (15 min)

---

### 4ï¸âƒ£ **Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½** - UI Mockup
ğŸ“„ **Ğ¤Ğ°Ğ¹Ğ»**: [`wireframes/epic-36-ui-mockup.md`](./wireframes/epic-36-ui-mockup.md)

**Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ**:
- Before/After UI comparison
- Component specs (toggle, badge, tooltip)
- Responsive design (desktop, tablet, mobile)
- Accessibility (ARIA, keyboard navigation)
- Russian copywriting

**Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ° Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ğµ**: 10 Ğ¼Ğ¸Ğ½ÑƒÑ‚

**ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹**:
```
[ĞŸĞ¾ Ğ°Ñ€Ñ‚Ğ¸ĞºÑƒĞ»Ğ°Ğ¼] [ĞŸĞ¾ ÑĞºĞ»ĞµĞ¹ĞºĞ°Ğ¼]  â† Toggle
Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° #328632  ğŸ”— Ğ¡ĞºĞ»ĞµĞ¹ĞºĞ° (3) â“˜  â† Badge + Tooltip
```

---

### 5ï¸âƒ£ **ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹** (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾) - Request #82
ğŸ“„ **Ğ¤Ğ°Ğ¹Ğ»**: [`request-backend/82-card-linking-product-bundles.md`](./request-backend/82-card-linking-product-bundles.md)

**Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ**:
- Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ¾Ñ‚ Frontend Team
- ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼Ğ° ÑĞºĞ»ĞµĞµĞº WB
- Backend research Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹

**Ğ’Ñ€ĞµĞ¼Ñ Ğ½Ğ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ğµ**: 10 Ğ¼Ğ¸Ğ½ÑƒÑ‚

**Ğ§Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ĞµÑĞ»Ğ¸**: Ğ¥Ğ¾Ñ‡ĞµÑˆÑŒ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¸ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹.

---

## ğŸ”§ Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸

### Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ² Ñ„Ğ°Ğ¹Ğ»Ğ°Ñ… (6 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)

| Ğ¤Ğ°Ğ¹Ğ» | Ğ§Ñ‚Ğ¾ Ğ¼ĞµĞ½ÑÑ‚ÑŒ | Ğ’Ñ€ĞµĞ¼Ñ |
|------|------------|-------|
| `src/types/advertising-analytics.ts` | Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `GroupByMode`, `MergedProduct`, Ñ€Ğ°ÑÑˆĞ¸Ñ€Ğ¸Ñ‚ÑŒ `AdvertisingItem` | 15 min |
| `src/lib/api/advertising-analytics.ts` | Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `group_by` parameter, Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ response mapping | 10 min |
| `src/hooks/useAdvertisingAnalytics.ts` | Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `useAdvertisingMergedGroups` hook | 5 min |
| `src/app/(dashboard)/analytics/advertising/page.tsx` | Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ toggle, Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ table rendering | 30 min |
| `src/components/analytics/PerformanceMetricsTable.tsx` | ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ rows Ğ´Ğ»Ñ merged groups | 15 min |
| `src/components/analytics/AdvertisingFilters.tsx` | Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ group_by filter (optional) | 15 min |

### ĞĞ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (2 Ñ„Ğ°Ğ¹Ğ»Ğ°)

| Ğ¤Ğ°Ğ¹Ğ» | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ’Ñ€ĞµĞ¼Ñ |
|------|----------|-------|
| `src/components/analytics/MergedProductBadge.tsx` | Badge Ñ tooltip Ğ´Ğ»Ñ ÑĞºĞ»ĞµĞµĞº | 20 min |
| `src/components/analytics/MergedProductBadge.test.tsx` | Unit tests Ğ´Ğ»Ñ badge | 15 min |

---

## ğŸ¨ UI Preview

### Toggle Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°:                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ ĞŸĞ¾ Ğ°Ñ€Ñ‚Ğ¸ĞºÑƒĞ»Ğ°Ğ¼ â”‚ â”‚ ĞŸĞ¾ ÑĞºĞ»ĞµĞ¹ĞºĞ°Ğ¼  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                  â–² Active           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Merged Group Badge

```
Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° #328632  ğŸ”— Ğ¡ĞºĞ»ĞµĞ¹ĞºĞ° (3) â“˜
                â†‘ Hoverable badge
```

**Tooltip**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½Ñ‘Ğ½Ğ½Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° #328632       â”‚
â”‚                                     â”‚
â”‚ Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹ Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ğµ:                    â”‚
â”‚  â€¢ ter-09 (#173588306)              â”‚
â”‚  â€¢ ter-10 (#173589306)              â”‚
â”‚  â€¢ ter-13-1 (#270937054)            â”‚
â”‚                                     â”‚
â”‚ ğŸ’¡ Ğ ĞµĞºĞ»Ğ°Ğ¼Ğ½Ñ‹Ğµ Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ñ‹   â”‚
â”‚    Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ²ÑĞµĞ¼Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°Ğ¼Ğ¸ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Backend API Example

### Request
```http
GET /v1/analytics/advertising?from=2025-12-01&to=2025-12-21&group_by=imtId
Authorization: Bearer {jwt}
X-Cabinet-Id: {cabinet_id}
```

### Response
```json
{
  "items": [
    {
      "type": "merged_group",
      "imtId": 328632,
      "mergedProducts": [
        { "nmId": 173588306, "vendorCode": "ter-09" },
        { "nmId": 173589306, "vendorCode": "ter-10" },
        { "nmId": 270937054, "vendorCode": "ter-13-1" }
      ],
      "totalSpend": 11337,
      "totalRevenue": 34058,
      "financials": { "roas": 3.0, "roi": 2.0 }
    }
  ],
  "summary": { ... }
}
```

**ĞŸĞ¾Ğ»Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹**: ÑĞ¼. [`83-epic-36-api-contract.md`](./request-backend/83-epic-36-api-contract.md)

---

## âš¡ Quick Implementation Path

### Path A: Minimal MVP (2 hours)
**Ğ”Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ´ĞµĞ¼Ğ¾**:
- âœ… ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ types
- âœ… ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ API client
- âœ… Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ toggle
- âœ… Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ badge (Ğ±ĞµĞ· tooltip)
- âœ… ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ table rendering

**ĞŸÑ€Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ**:
- âŒ Fancy tooltip (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ·Ğ¶Ğµ)
- âŒ Filters integration
- âŒ E2E tests (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ·Ğ¶Ğµ)

### Path B: Full Implementation (4 hours)
**Production-ready**:
- âœ… Ğ’ÑÑ‘ Ğ¸Ğ· Path A
- âœ… Tooltip Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑĞ¼Ğ¸ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²
- âœ… Filters integration
- âœ… Unit tests
- âœ… Integration tests
- âœ… E2E tests

**Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ**: Path B Ğ´Ğ»Ñ production.

---

## ğŸ§ª Testing Strategy

### Before Starting
```bash
# Verify backend is running
curl http://localhost:3000/v1/analytics/advertising?from=2025-12-01&to=2025-12-21&group_by=imtId \
  -H "Authorization: Bearer {token}" \
  -H "X-Cabinet-Id: {cabinet_id}"
```

**Expected**: JSON response Ñ `type='merged_group'` items.

### During Development
```bash
# Type check after each step
npm run type-check

# Lint after each step
npm run lint

# Unit tests
npm run test -- MergedProductBadge
```

### After Completion
```bash
# Full test suite
npm run test
npm run test:e2e

# Build verification
npm run build
```

---

## ğŸ“ Learning Resources

### shadcn/ui Components
- **Badge**: https://ui.shadcn.com/docs/components/badge
- **Tooltip**: https://ui.shadcn.com/docs/components/tooltip
- **Button**: https://ui.shadcn.com/docs/components/button

### TanStack React Query
- **useQuery**: https://tanstack.com/query/latest/docs/react/guides/queries
- **Query Keys**: https://tanstack.com/query/latest/docs/react/guides/query-keys

### TypeScript
- **Type Narrowing**: https://www.typescriptlang.org/docs/handbook/2/narrowing.html
- **Discriminated Unions**: https://www.typescriptlang.org/docs/handbook/2/narrowing.html#discriminated-unions

---

## âœ… Ready to Start?

### Checklist Ğ¿ĞµÑ€ĞµĞ´ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ¾Ğ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹:

- [ ] ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ» [`84-epic-36-frontend-integration-guide.md`](./request-backend/84-epic-36-frontend-integration-guide.md)
- [ ] Ğ˜Ğ·ÑƒÑ‡Ğ¸Ğ» API contract [`83-epic-36-api-contract.md`](./request-backend/83-epic-36-api-contract.md)
- [ ] ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ» UI mockup [`wireframes/epic-36-ui-mockup.md`](./wireframes/epic-36-ui-mockup.md)
- [ ] Backend Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ (`http://localhost:3000/api` Swagger)
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ» feature branch: `git checkout -b epic-36/frontend-integration`
- [ ] ĞŸĞ¾Ğ½Ğ¸Ğ¼Ğ°Ñ acceptance criteria

### ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ ÑˆĞ°Ğ³:

```bash
# 1. ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ implementation plan
code frontend/docs/implementation-plans/epic-36-frontend-integration.md

# 2. ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ñ Step 1: Update TypeScript Types
code frontend/src/types/advertising-analytics.ts

# 3. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹
# (ÑĞ¼. ĞºĞ¾Ğ´ Ğ² implementation plan)
```

---

## ğŸ“ ĞÑƒĞ¶Ğ½Ğ° Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ?

### Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- **Integration Guide**: [`request-backend/84-epic-36-frontend-integration-guide.md`](./request-backend/84-epic-36-frontend-integration-guide.md)
- **API Contract**: [`request-backend/83-epic-36-api-contract.md`](./request-backend/83-epic-36-api-contract.md)
- **Implementation Plan**: [`implementation-plans/epic-36-frontend-integration.md`](./implementation-plans/epic-36-frontend-integration.md)
- **UI Mockup**: [`wireframes/epic-36-ui-mockup.md`](./wireframes/epic-36-ui-mockup.md)

### Backend Resources
- **API Docs**: `/docs/API-PATHS-REFERENCE.md` (lines 986-1102)
- **Swagger**: `http://localhost:3000/api`
- **Grafana**: `/monitoring/grafana/dashboards/epic-36-product-card-linking.json`

### ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹
- **Backend Team**: Epic 36 backend ready, API stable
- **Slack**: #epic-36-product-linking

---

## ğŸ‰ Let's Go!

Backend Ğ¶Ğ´Ñ‘Ñ‚! Ğ’ÑĞµ API Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹, Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ, Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹ ĞºĞ¾Ğ´Ğ° ĞµÑÑ‚ÑŒ. Ğ’Ñ€ĞµĞ¼Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ UI! ğŸš€

**Estimated Time**: 3-4 hours
**Complexity**: Medium (Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ Epic 33)
**Impact**: High (Ñ€ĞµÑˆĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ "ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…" Ğ´Ğ»Ñ ÑĞºĞ»ĞµĞµĞº)

**Next Action**: ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ [`84-epic-36-frontend-integration-guide.md`](./request-backend/84-epic-36-frontend-integration-guide.md) Ğ¸ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ!

---

---

## ğŸŠ Epic 36 Frontend - COMPLETE!

**Implementation Date**: 2025-12-28
**Total Time**: 4 hours (as estimated)
**Test Coverage**: 91 tests (E2E + Integration + Unit)

### âœ… Completed Stories

| Story | Description | Status |
|-------|-------------|--------|
| 36.1 | TypeScript Types & Interfaces | âœ… Complete |
| 36.2 | API Client & React Query Hooks | âœ… Complete |
| 36.3 | MergedProductBadge Component | âœ… Complete |
| 36.4 | Page Layout & Toggle UI Integration | âœ… Complete |
| 36.5 | Testing & Documentation | âœ… Complete |

### ğŸ“¦ Deliverables

**Modified Files** (6):
- `src/types/advertising-analytics.ts` - Added Epic 36 types
- `src/lib/api/advertising-analytics.ts` - Updated API client
- `src/hooks/useAdvertisingAnalytics.ts` - Added convenience hook
- `src/app/(dashboard)/analytics/advertising/page.tsx` - Integrated toggle & state
- `src/app/(dashboard)/analytics/advertising/components/PerformanceMetricsTable.tsx` - Badge display
- `src/app/(dashboard)/analytics/advertising/components/GroupByToggle.tsx` - NEW

**New Components** (2):
- `src/components/analytics/MergedProductBadge.tsx` - Badge with tooltip
- `src/app/(dashboard)/analytics/advertising/components/GroupByToggle.tsx` - Toggle buttons

**Test Files** (3):
- `e2e/advertising-analytics-epic-36.spec.ts` - 5 E2E scenarios
- `src/lib/api/__tests__/advertising-analytics-epic-36.test.ts` - 21 integration tests
- `src/components/analytics/__tests__/MergedProductBadge.test.tsx` - 40 unit tests
- `src/app/(dashboard)/analytics/advertising/components/__tests__/GroupByToggle.test.tsx` - 25 unit tests

**Documentation** (1):
- `docs/CHANGELOG-EPIC-36-FE.md` - Complete changelog

### ğŸ¯ Test Results

**Total Coverage**: 91 tests
- âœ… E2E Tests: 5 scenarios (toggle switching, badge display, URL persistence, backward compatibility, mobile)
- âœ… Integration Tests: 21 tests (API client, group_by parameter, response mapping)
- âœ… Unit Tests: 65 tests (MergedProductBadge 40 tests, GroupByToggle 25 tests)

### ğŸš€ Deployment Ready

**Next Steps**:
1. âœ… Code reviewed and approved
2. âœ… All tests passing
3. âœ… Documentation complete
4. ğŸ“¦ Ready for commit and deployment

**See Also**:
- [`CHANGELOG-EPIC-36-FE.md`](./CHANGELOG-EPIC-36-FE.md) - Full changelog with breaking changes
- [`request-backend/84-epic-36-frontend-integration-guide.md`](./request-backend/84-epic-36-frontend-integration-guide.md) - Integration guide
- [`stories/epic-36/`](./stories/epic-36/) - Story documentation

---

**Document Version**: 2.0
**Last Updated**: 2025-12-28
**Status**: âœ… Epic 36 Frontend Complete
