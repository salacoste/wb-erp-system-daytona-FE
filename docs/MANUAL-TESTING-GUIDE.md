# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-20  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 1.0.0  
**Frontend Port:** 3100 (default, production via PM2)  
**Backend API Port:** 3000

---

## üìä –ê–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### ‚úÖ Epic 1: Authentication & Infrastructure (100% Complete)

#### Story 1.1: Project Foundation ‚úÖ **Done**
- Next.js 15 —Å TypeScript
- ESLint —Å –ø—Ä–∞–≤–∏–ª–æ–º max-lines-per-file: 200
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- shadcn/ui —Å –∫—Ä–∞—Å–Ω–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º–æ–π (#E53935)
- Tailwind CSS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –í—Å–µ –±–∏–ª–¥—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

#### Story 1.2: User Registration ‚úÖ **Done**
- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π email –∏ –ø–∞—Ä–æ–ª—è
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: `POST /v1/auth/register`
- –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ login
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–¥—É–±–ª–∏–∫–∞—Ç email, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
- Loading states –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- **–¢–µ—Å—Ç—ã:** 8/8 passing

#### Story 1.3: User Login ‚úÖ **Done**
- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: `POST /v1/auth/login`
- JWT token —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage (Zustand persist)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
- **–¢–µ—Å—Ç—ã:** 9/9 passing

#### Story 1.4: Session Management & Logout ‚úÖ **Done**
- Middleware –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤ (`src/middleware.ts`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ login –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª logout (–æ—á–∏—Å—Ç–∫–∞ —Ç–æ–∫–µ–Ω–∞, user, cabinetId)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ `useAuth()` hook
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏

#### Story 1.5: API Client Layer ‚úÖ **Done**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç (`src/lib/api-client.ts`)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `Authorization: Bearer {token}`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `X-Cabinet-Id` header
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö HTTP –º–µ—Ç–æ–¥–æ–≤ (GET, POST, PUT, PATCH, DELETE)

### ‚úÖ Epic 2: Onboarding Flow (100% Complete, Ready for Review)

#### Story 2.1: Cabinet Creation ‚úÖ **Ready for Review**
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–±–∏–Ω–µ—Ç–∞ (—à–∞–≥ 1 –∏–∑ 3)
- –í–∞–ª–∏–¥–∞—Ü–∏—è: –º–∏–Ω–∏–º—É–º 2, –º–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: `POST /v1/cabinets`
- **–ö—Ä–∏—Ç–∏—á–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–±–∏–Ω–µ—Ç–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cabinetId –≤ auth store
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/onboarding/wb-token`
- **–¢–µ—Å—Ç—ã:** 7/7 passing

#### Story 2.2: WB Token Input ‚úÖ **Ready for Review**
- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ WB —Ç–æ–∫–µ–Ω–∞ (—à–∞–≥ 2 –∏–∑ 3)
- –í–∞–ª–∏–¥–∞—Ü–∏—è JWT —Ñ–æ—Ä–º–∞—Ç–∞ (3 —á–∞—Å—Ç–∏, –º–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤)
- –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (password type)
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: `PUT /v1/cabinets/{cabinetId}/keys/{keyName}`
- –û—á–∏—Å—Ç–∫–∞ —Ç–æ–∫–µ–Ω–∞ –∏–∑ —Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- **üìù –í–∞–∂–Ω–æ:** –ò–º—è –∫–ª—é—á–∞ —Ç–æ–∫–µ–Ω–∞: `wb_api_token` (—Å–º. [CHANGELOG: WB Token Key Name Fix](./CHANGELOG-wb-token-key-name.md))
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/onboarding/processing`
- **–¢–µ—Å—Ç—ã:** 9/9 passing

#### Story 2.3: Data Processing Status ‚úÖ **Ready for Review**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—à–∞–≥ 3 –∏–∑ 3)
- Polling –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ —á–µ—Ä–µ–∑ `useProcessingStatus` hook
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –¥–ª—è:
  - `products_sync` (–ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤)
  - `finances_weekly_ingest` (–∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤)
- Progress bars —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### Story 2.4: Initial Data Display ‚úÖ **Ready for Review**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `InitialDataSummary` —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º:
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–∏–∑ `GET /v1/products?limit=1`)
  - –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–∏–∑ `GET /v1/analytics/weekly/finance-summary`)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã, –¥–∞—Ç, –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ (—Ä—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª—å)
- Call-to-action –∫–Ω–æ–ø–∫–∏: "Assign COGS" –∏ "Go to main"
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –≤ PM2

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Node.js 20.x –∏–ª–∏ –≤—ã—à–µ** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
2. **PM2** —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ:
   ```bash
   npm install -g pm2
   ```
3. **Backend API** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/r2d2/Documents/Code_Projects/wb-repricer-system-new/frontend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –°–æ–∑–¥–∞—Ç—å .env.local —Ñ–∞–π–ª (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)
cp .env.example .env.local

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env.local —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
# NEXT_PUBLIC_API_URL=http://localhost:3000
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: URL –±–µ–∑ /api - endpoints –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å /v1/
# NEXT_PUBLIC_APP_NAME=WB Repricer System
# NEXT_PUBLIC_APP_VERSION=1.0.0
```

### –®–∞–≥ 2: –°–±–æ—Ä–∫–∞ production –≤–µ—Ä—Å–∏–∏

```bash
# –°–æ–±—Ä–∞—Ç—å production build
npm run build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "‚úì Compiled successfully"
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ PM2 ecosystem —Ñ–∞–π–ª–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `ecosystem.config.js` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
module.exports = {
  apps: [
    {
      name: 'wb-repricer-frontend',
      script: 'node_modules/.bin/next',
      args: 'start',
      cwd: process.cwd(),
      instances: 1,
      exec_mode: 'fork',
      env: {
        NODE_ENV: 'production',
        PORT: 3100,
      },
      error_file: './logs/pm2-error.log',
      out_file: './logs/pm2-out.log',
      log_date_format: 'YYYY-MM-DD HH:mm:ss Z',
      merge_logs: true,
      autorestart: true,
      max_restarts: 10,
      min_uptime: '10s',
      watch: false,
    },
  ],
};
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§–∞–π–ª `ecosystem.config.js` —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –¥–ª—è –ø–æ—Ä—Ç–∞ 3100.

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 start ecosystem.config.js

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é:
pm2 start npm --name "wb-repricer-frontend" -- start

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
pm2 logs wb-repricer-frontend

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs wb-repricer-frontend --lines 50
```

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PM2
pm2 save

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã
pm2 startup
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, –∫–æ—Ç–æ—Ä—É—é PM2 –ø–æ–∫–∞–∂–µ—Ç
```

### –ü–æ–ª–µ–∑–Ω—ã–µ PM2 –∫–æ–º–∞–Ω–¥—ã

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 stop wb-repricer-frontend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart wb-repricer-frontend

# –£–¥–∞–ª–∏—Ç—å –∏–∑ PM2
pm2 delete wb-repricer-frontend

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 monit

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ
pm2 info wb-repricer-frontend
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### üîê Epic 1: Authentication

#### 1.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

- [ ] **–û—Ç–∫—Ä—ã—Ç—å:** `http://localhost:3100/register`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** Email –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π email)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–∞—Ä–æ–ª—å –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (–º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ö–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è" –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  - Email: `test@example.com` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –Ω–æ–≤—ã–π email)
  - –ü–∞—Ä–æ–ª—å: `Test1234!` (–º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è loading state
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è toast "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞"
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π email –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞

#### 1.2 –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

- [ ] **–û—Ç–∫—Ä—ã—Ç—å:** `http://localhost:3100/login`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** Email –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–∞—Ä–æ–ª—å –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –í–æ–π—Ç–∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
  - Email: `test@test.com`
  - Password: `Russia23!`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è loading state
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/dashboard`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å"
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º

#### 1.3 –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã

- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã (logout)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—å `/dashboard` –Ω–∞–ø—Ä—è–º—É—é
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –í–æ–π—Ç–∏ —Å–Ω–æ–≤–∞
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –î–æ—Å—Ç—É–ø –∫ `/dashboard` —Ä–∞–∑—Ä–µ—à–µ–Ω

#### 1.4 Logout

- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –ù–∞–π—Ç–∏ –∫–Ω–æ–ø–∫—É logout (–æ–±—ã—á–Ω–æ –≤ header/navbar)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –∫–ª–∏–∫–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã—Ö–æ–¥
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –¢–æ–∫–µ–Ω —É–¥–∞–ª–µ–Ω –∏–∑ localStorage (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å DevTools ‚Üí Application ‚Üí Local Storage)

---

### üéØ Epic 2: Onboarding Flow

#### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞ (–®–∞–≥ 1/3)

**–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ:** –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É

- [ ] **–û—Ç–∫—Ä—ã—Ç—å:** `http://localhost:3100/onboarding/cabinet`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–®–∞–≥ 1 –∏–∑ 3"
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–±–∏–Ω–µ—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ –∫–∞–±–∏–Ω–µ—Ç–∞:
  - –ú–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞
  - –ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –í–≤–µ—Å—Ç–∏ –≤–∞–ª–∏–¥–Ω–æ–µ –∏–º—è –∫–∞–±–∏–Ω–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ú–æ–π –ø–µ—Ä–≤—ã–π –∫–∞–±–∏–Ω–µ—Ç")
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–°–æ–∑–¥–∞–Ω–∏–µ..."
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è toast
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/onboarding/wb-token`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** Cabinet ID —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ auth store (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å DevTools)

#### 2.2 –í–≤–æ–¥ WB —Ç–æ–∫–µ–Ω–∞ (–®–∞–≥ 2/3)

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–®–∞–≥ 2 –∏–∑ 3"
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ —Ç–æ–∫–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ–ª–µ —Ç–æ–∫–µ–Ω–∞ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–æ (type="password")
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é —Ç–æ–∫–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞:
  - –ú–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤
  - JWT —Ñ–æ—Ä–º–∞—Ç (3 —á–∞—Å—Ç–∏ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É)
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –í–≤–µ—Å—Ç–∏ –≤–∞–ª–∏–¥–Ω—ã–π WB —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: `xxx.yyy.zzz` –º–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ..."
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è toast
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –¢–æ–∫–µ–Ω –æ—á–∏—â–µ–Ω –∏–∑ —Ñ–æ—Ä–º—ã –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/onboarding/processing`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Ç–æ–∫–µ–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞

#### 2.3 –°—Ç–∞—Ç—É—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–®–∞–≥ 3/3)

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–®–∞–≥ 3 –∏–∑ 3"
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–≤–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:
  - –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (`products_sync`)
  - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ (`finances_weekly_ingest`)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** Progress bars –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ (polling)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–æ—Ü–µ–Ω—Ç—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –û–ø–∏—Å–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–µ–ª–µ–Ω—ã–π alert "–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

#### 2.4 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è `InitialDataSummary`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (–±–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ, —Ä—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã):
  - Total Payable (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–æ –∫–∞–∫ –≤–∞–ª—é—Ç–∞: "1 234 567,89 ‚ÇΩ")
  - Revenue (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ó–µ–ª–µ–Ω—ã–π alert —Å –≥–∞–ª–æ—á–∫–æ–π "–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã"
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ö–Ω–æ–ø–∫–∞ "Assign COGS" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ö–Ω–æ–ø–∫–∞ "Go to main" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

---

## üêõ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ –∏ edge cases

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ backend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ 401 (unauthorized) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ login
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ 400 (bad request) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ 500 (server error) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–±—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –£–¥–∞–ª–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ localStorage –≤—Ä—É—á–Ω—É—é
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ login
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –í–æ–π—Ç–∏ —Å–Ω–æ–≤–∞
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –¢–æ–∫–µ–Ω –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ cabinet ID

- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ–∑–¥–∞—Ç—å –∫–∞–±–∏–Ω–µ—Ç
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** Cabinet ID —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ auth store
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** Cabinet ID –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ DevTools ‚Üí Network ‚Üí Headers ‚Üí `X-Cabinet-Id`

---

## üåê –û—Å–Ω–æ–≤–Ω—ã–µ URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

**Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** `http://localhost:3100`

- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:** `http://localhost:3100/register`
- **–í—Ö–æ–¥:** `http://localhost:3100/login`
- **Dashboard:** `http://localhost:3100/dashboard`
- **Onboarding:**
  - –®–∞–≥ 1 (–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞): `http://localhost:3100/onboarding/cabinet`
  - –®–∞–≥ 2 (WB —Ç–æ–∫–µ–Ω): `http://localhost:3100/onboarding/wb-token`
  - –®–∞–≥ 3 (–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö): `http://localhost:3100/onboarding/processing`

**Backend API:** `http://localhost:3000` (–µ—Å–ª–∏ backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000)
# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: API endpoints –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å /v1/, –Ω–∞–ø—Ä–∏–º–µ—Ä: /v1/auth/login

---

## üìù –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```
Email: test@test.com
Password: Russia23!
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ backend —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –¢–µ—Å—Ç–æ–≤—ã–π WB —Ç–æ–∫–µ–Ω

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –≤–∞–ª–∏–¥–Ω—ã–π JWT —Ç–æ–∫–µ–Ω —Ñ–æ—Ä–º–∞—Ç–∞:
```
xxx.yyy.zzz
```
–ì–¥–µ –∫–∞–∂–¥–∞—è —á–∞—Å—Ç—å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤, –æ–±—â–∞—è –¥–ª–∏–Ω–∞ –º–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ DevTools

### Network Tab

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL (`NEXT_PUBLIC_API_URL`)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–∫–ª—é—á–∞—é—Ç `Authorization: Bearer {token}`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ó–∞–ø—Ä–æ—Å—ã –∫ cabinet endpoints –≤–∫–ª—é—á–∞—é—Ç `X-Cabinet-Id: {cabinetId}`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** Content-Type: `application/json` –¥–ª—è POST/PUT –∑–∞–ø—Ä–æ—Å–æ–≤

### Application Tab ‚Üí Local Storage

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** `auth-storage` —Å–æ–¥–µ—Ä–∂–∏—Ç:
  - `user` (–æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - `token` (JWT —Ç–æ–∫–µ–Ω)
  - `cabinetId` (ID –∫–∞–±–∏–Ω–µ—Ç–∞, –µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### Console Tab

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (–∫—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (warnings) –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –õ–æ–≥–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ login –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è < 2 —Å–µ–∫—É–Ω–¥
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ dashboard –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è < 2 —Å–µ–∫—É–Ω–¥
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** API –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è < 1 —Å–µ–∫—É–Ω–¥—ã (–ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ backend)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞

- [ ] **–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run build`
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** First Load JS: ~102-156 kB (—Ä–∞–∑—É–º–Ω–æ –¥–ª—è Next.js 15)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ –±–æ–ª—å—à–∏—Ö –±–∞–Ω–¥–ª–∞—Ö

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:

- [ ] –í—Å–µ —Ñ–æ—Ä–º—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞–º–∏
- [ ] –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Onboarding flow –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞
- [ ] –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

---

## üÜò Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ PM2

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs wb-repricer-frontend --lines 100

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç –Ω–µ –∑–∞–Ω—è—Ç
lsof -i :3100

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npm run build
pm2 restart wb-repricer-frontend
```

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∞ - "Access-Control-Allow-Origin"

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –æ—à–∏–±–∫–∞: `has been blocked by CORS policy`
- `Access-Control-Allow-Origin` header –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `http://localhost:5173`, –Ω–æ frontend –Ω–∞ `http://localhost:3100`

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ö–†–ò–¢–ò–ß–ù–û:** Backend –¥–æ–ª–∂–µ–Ω —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å `http://localhost:3100`
2. –°–º. –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: `docs/request-backend/03-fix-cors-for-frontend-port-3100.md`
3. –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ backend –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `pm2 restart wb-repricer-api`
4. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R)

**–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä—ã—Ç—å Network tab –≤ DevTools
- –ù–∞–π—Ç–∏ OPTIONS –∏–ª–∏ POST –∑–∞–ø—Ä–æ—Å –∫ `/v1/auth/login`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Response Headers: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `Access-Control-Allow-Origin: http://localhost:3100`

### –ü—Ä–æ–±–ª–µ–º–∞: API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `NEXT_PUBLIC_API_URL` –≤ `.env.local` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `http://localhost:3000` –±–µ–∑ `/api`)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω: `pm2 status`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ backend (—Å–º. –≤—ã—à–µ)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Network tab –≤ DevTools –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–æ–∫
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend –æ—Ç–≤–µ—á–∞–µ—Ç: `curl http://localhost:3000/v1/health`

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–∫–µ–Ω –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ localStorage –¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DevTools ‚Üí Application ‚Üí Local Storage ‚Üí `auth-storage`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Zustand persist middleware —Ä–∞–±–æ—Ç–∞–µ—Ç

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-20  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0.0

